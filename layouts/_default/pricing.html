{{ define "main" }}
<!-- Global Background -->
<div class="fixed inset-0 pointer-events-none z-0">
    <div
        class="absolute inset-0 bg-[url('/img/card_tiers_illustrative_v2.png')] bg-cover bg-center opacity-20 mix-blend-color-dodge saturate-150 blur-3xl scale-125">
    </div>
    <div class="absolute inset-0 bg-neutral-900/90"></div>
</div>

<div class="max-w-7xl mx-auto px-4 py-8 relative z-10">

    <!-- Hero Header -->
    <div class="text-center mb-16">
        <h1 class="text-4xl md:text-6xl font-serif font-bold text-white mb-4 drop-shadow-lg">RATE CARD</h1>

        <!-- Status Pill -->
        <div
            class="inline-flex items-center gap-2 bg-green-900/20 border border-green-500/30 px-4 py-2 rounded-full backdrop-blur-md">
            <span class="relative flex h-2 w-2">
                <span
                    class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"></span>
            </span>
            <span class="text-green-400 font-mono text-xs font-bold uppercase tracking-widest">Commissions: Open for
                Q1</span>
        </div>
    </div>

    <!-- Pricing Grid -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-20 items-end">
        {{ range .Params.tiers }}
        {{ $tier := . }}
        <!-- Pricing Card -->
        <div class="relative group {{ if .recommended }}z-10 -translate-y-4{{ end }}">
            <!-- Card Container -->
            <div
                class="relative flex flex-col p-8 rounded-2xl border transition-all duration-500 group overflow-hidden {{ if .gold }}border-gold-500/50 bg-black/80 shadow-[0_0_30px_rgba(234,179,8,0.2)] hover:shadow-[0_0_50px_rgba(234,179,8,0.4)] hover:-translate-y-2 z-10 scale-105{{ else if .recommended }}border-cyan-500/50 bg-black/60 shadow-[0_0_20px_rgba(6,182,212,0.2)] hover:shadow-[0_0_40px_rgba(6,182,212,0.4)] hover:-translate-y-1{{ else }}border-white/10 bg-black/40 hover:border-white/30 hover:bg-black/50{{ end }}">

                <!-- Illustrative Background (Maximum Vibrancy) -->
                <div
                    class="absolute inset-0 z-0 opacity-80 group-hover:opacity-100 transition-opacity mix-blend-normal pointer-events-none user-select-none">
                    {{ if .gold }}
                    <img src="/img/art_gold.png"
                        class="w-full h-full object-cover filter contrast-125 saturate-150 brightness-110">
                    {{ else if .recommended }}
                    <img src="/img/art_purple.png"
                        class="w-full h-full object-cover filter contrast-125 saturate-150 brightness-110">
                    {{ else }}
                    <img src="/img/art_cyan.png"
                        class="w-full h-full object-cover filter contrast-125 saturate-150 brightness-110">
                    {{ end }}
                </div>
                <!-- Light Gradient Overlay (For Text Readability Only) -->
                <div class="absolute inset-0 z-0 bg-gradient-to-b from-black/60 via-black/40 to-black/80"></div>

                <div class="relative z-10 flex flex-col h-full">
                    {{ if .recommended }}
                    <div class="absolute -top-4 inset-x-0 flex justify-center">
                        <span
                            class="bg-cyan-500 text-black text-[10px] font-black px-3 py-1 rounded-full uppercase tracking-widest shadow-lg ring-2 ring-black">Recommended</span>
                    </div>
                    {{ end }}

                    <h3
                        class="text-2xl font-black font-serif uppercase tracking-widest mb-2 text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)]">
                        {{ .name }}
                    </h3>
                    <p class="text-xs text-gray-100 font-bold h-10 mb-6 font-mono leading-relaxed drop-shadow-md">{{
                        .desc }}</p>

                    <div class="text-5xl font-black mb-8 font-serif text-white drop-shadow-xl">
                        {{ .price }}
                    </div>

                    <ul class="space-y-4 mb-2 flex-grow">
                        {{ range .features }}
                        <li class="flex items-start text-xs font-mono tracking-wide font-bold">
                            <span
                                class="mr-3 mt-0.5 {{ if .included }}{{ if $tier.gold }}text-gold-400{{ else if $tier.recommended }}text-cyan-400{{ else }}text-green-400{{ end }}{{ else }}text-gray-500{{ end }} drop-shadow-md">
                                {{ if .included }}///{{ else }}///{{ end }}
                            </span>
                            <span
                                class="relative z-10 {{ if .included }}text-white drop-shadow-md{{ else }}text-gray-400 line-through decoration-white/30{{ end }}">
                                {{ .name }}
                            </span>
                        </li>
                        {{ end }}
                    </ul>
                    <!-- CTA Removed as requested -->
                </div>
            </div>
        </div>
        {{ end }}
    </div>

    <!-- DLC / Add-ons -->
    <div class="max-w-4xl mx-auto">
        <h3
            class="text-xs font-mono text-gray-500 uppercase tracking-[0.2em] mb-8 text-center border-b border-white/5 pb-4">
            /// ADDITIONAL_MODULES</h3>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            {{ range .Params.addons }}
            <div
                class="flex justify-between items-center p-4 bg-white/5 rounded border border-white/5 hover:border-gold-500/20 transition-colors">
                <div>
                    <h4 class="text-white font-bold text-sm">{{ .name }}</h4>
                    <p class="text-xs text-gray-500">{{ .desc }}</p>
                </div>
                <div class="text-right">
                    <span class="block text-gold-500 font-mono text-sm">{{ .price }}</span>
                </div>
            </div>
            {{ end }}
        </div>
    </div>

</div>
{{ end }}